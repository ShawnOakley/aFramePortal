<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>00_A-Frame_starter</title>
  <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
  <script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
  <!--build:css css/styles.min.css-->
  <link rel="stylesheet" href="css/styles.css">
  <!--endbuild-->
  <script src='src/scripts/aframe-ar.js' type="text/javascript"></script>
  <script src='src/scripts/aframe-portal-door.js' type="text/javascript"></script>
  <script src='src/scripts/threex-portal-door.js' type="text/javascript"></script>
</head>
<body>
  <a-scene>

    <a-assets>
      <!-- https://poly.google.com/view/ef9Yd09Doxh -->
      <a-asset-item id="vault-door-obj" src="objects/VaultDoor111.obj"></a-asset-item>
      <a-asset-item id="vault-door-mtl" src="objects/VaultDoor111.mtl"></a-asset-item>
      <a-asset-item id="HAL-obj" src="objects/HAL.obj"></a-asset-item>
      <a-asset-item id="HAL-mtl" src="objects/HAL.mtl"></a-asset-item>
    </a-assets>
  <a-marker preset='hiro'>
    <a-portal-door
      id='door'
      url='videos/aframe-city-360.mp4'
      position='0 0 4.25'
      scale='2 2 1'
      rotation='270 0 0'
      open-on-scan
    >
    </a-portal-door>

    <a-entity
      id='space-station'
      position="0 -14 -5"
    >
      <a-obj-model
        src="#HAL-obj"
        mtl="#HAL-mtl"
        shadow
        rotation="90 180 0"
        scale="2.0 2.0 2.0"
        id="hallway"
      >
      </a-obj-model>
      <a-obj-model
        src="#vault-door-obj"
        mtl="#vault-door-mtl"
        position="1 4 0"
        shadow
        rotation="270 0 0"
        scale="1.0 1.0 1.0"
        id="vaultDoor"
      >
        <a-animation
          attribute="position"
          fill="forwards"
          to="7 20 2"
          easing='linear'
          dur='8000'
          begin="doorOpened"
          repeat='0'
        ></a-animation>
        <a-animation
          attribute="rotation"
          fill="forwards"
          to="360 360 0"
          easing='linear'
          dur='6000'
          begin="doorOpened"
          repeat='indefinite'
        ></a-animation>
      </a-obj-model>
    </a-entity>
  </a-marker>
    <a-entity camera></a-entity>

  </a-scene>
  <script src="js/main.js"></script>
</body>
</html>
